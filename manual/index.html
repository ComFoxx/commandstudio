<!DOCTYPE HTML>
<html lang="en">
<head>

<meta charset="UTF-8">
<title>Manual â€“ CommandStudio</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" href="../img/icon.png">

<link rel="stylesheet" href="../vendor/open-sans/open-sans.css">
<link rel="stylesheet" href="../vendor/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="../vendor/codemirror/lib/codemirror.css">
<link rel="stylesheet" href="../vendor/codemirror/theme/lesser-dark.css">
<link rel="stylesheet" href="css/manual.css">

<script src="../vendor/requirejs/require.js"></script>
<script>
require.config( {
  baseUrl: "../js",
  paths: {
    vendor: "../vendor",
    jquery: "../vendor/jquery/jquery-2.2.0.min"
  },
  packages: [ {
    name: "codemirror",
    location: "../vendor/codemirror",
    main: "lib/codemirror"
  } ]
} );

require( [
  "jquery",
  "codemirror",
  "editor/commander-mode"
], function ( $, CodeMirror ) {
  $( function () {
    var snippetOptions = {
      mode: "commander",
      theme: 'lesser-dark',
      readOnly: true
    };

    $( '.code' ).each( function() {
      var html = this.innerHTML,
        indentation = html.match( /^\n */ );

      if( indentation !== null ) {
        html = html.replace( new RegExp( indentation[0], "g" ), "\n" );
      }

      snippetOptions.value = html.trim();
      this.innerHTML = '';
      CodeMirror(this, snippetOptions);
    });

    $( '.clip video' ).on( "mouseenter", function() {
      this.play();
    });

    $( '.clip video' ).on( "mouseleave", function() {
      this.pause();
    });

  } );
} );
</script>

</head>
<body class="cm-s-lesser-dark">

<div class="sidebar">

  <div class="logo">
    <div class="logo-img"><img src="img/logo.png" alt="CommandStudio"></div>
    <div class="logo-text">CommandStudio Manual</div>
  </div>

  <div class="menu">
    <a href="#getting-started">Getting Started</a>
    <a href="#reference">Reference</a>
  </div>

</div>

<div class="content">

<h1 id="getting-started">Getting Started</h1>

<h2>What is CommandStudio?</h2>

<p>
  CommandStudio is a code editor with a compilation engine that translates code into command blocks.
  These blocks are imported into Minecraft via a one-command.<br>
  CommandStudio also offers a lot of convenient tools that make writing commands a lot less simpler.
  All these features are explained in this manual.
</p>

<h2>Commands</h2>

<p>
  CommandStudio works with code, each line of this code represents a command.
  Once compiled, a one-command is generated. When imported in Minecraft, all
  the commands are executed.
</p>

<h3>Example</h3>

<div class="example">
  <div class="example-code">
    <div class="example-title">Code</div>
    <div class="example-content code">
      say hello
      say world
      summon Zombie ~2 ~-3 ~
    </div>
    <div class="example-title">Demo</div>
    <div class="example-content">
      <div class="clip"><video src="clips/commands.webm" loop></video></div>
    </div>
  </div>
</div>

<h2>Command blocks</h2>

<p>
  CommandStudio also can generate command blocks. The <span class="char cm-header">chain</span>
  keyword is used to specify to the compiler that the following lines represent a chain
  of command blocks. This chain will be placed at the position specified with
  its declaration.<br>
  Each line of a chain section represents a command block.
</p>

<h3>Example</h3>

<div class="example">
  <div class="example-code">
    <div class="example-title">Code</div>
    <div class="example-content code">
      chain ~2 ~ ~:
        say hello
        say world
        summon Zombie ~2 ~-3 ~
    </div>
    <div class="example-title">Demo</div>
    <div class="example-content">
      <div class="clip"><video src="clips/chain.webm" loop></video></div>
    </div>
  </div>
</div>

<h1 id="reference">Reference</h1>

<h2>Command block attributes</h2>

<p>
  By default, all command blocks will be chained command blocks and will be in
  the always active mode. Inserting attributes at the beginning of a line will
  change the current command block attributes. Those attributes can be combined.
</p>

<p>
  List of available attributes:
</p>

<table class="table attributes">
<tr>
  <th>Attribute</th>
  <th>Effect</th>
</tr>
<tr>
  <td><span class="cm-quote">i</span></td> <td><b class="b-i"></b> Impulse command block</td>
</tr>
<tr>
  <td><span class="cm-quote">r</span></td> <td><b class="b-r"></b> Repeating command block</td>
</tr>
<tr>
  <td><span class="cm-quote">c</span></td> <td><b class="b-c"></b> Chain command block</td>
</tr>
<tr>
  <td><span class="cm-quote">0</span></td> <td><b class="b-0"></b> Needs redstone</td>
</tr>
<tr>
  <td><span class="cm-quote">1</span></td> <td><b class="b-1"></b> Always active</td>
</tr>
<tr>
  <td><span class="cm-quote">?</span></td> <td><b class="b-ic"></b> Conditionnal</td>
</tr>
<tr>
  <td><span class="cm-quote">!</span></td> <td><b class="b-i"></b> Not unconditionnal</td>
</tr>
</table>

<h3>Example</h3>

<div class="example">
  <div class="example-code">
    <div class="example-title">Code</div>
    <div class="example-content code">
      chain ~2 ~ ~:
        i0:say I'm an impulse command block and I need redstone
        ?:say I'm a chain command block and I'm conditional
        r:say I'm a repeating command block and I'm always active
    </div>
    <div class="example-title">Output</div>
    <div class="example-content output">
      <b class="b-i"></b><b class="b-0"></b> <span class="command">say I'm an impulse command block and I need redstone</span><br>
      <b class="b-cc"></b><b class="b-1"></b> <span class="command">say I'm a chain command block and I'm conditional</span><br>
      <b class="b-r"></b><b class="b-1"></b> <span class="command">say I'm a repeating command block and I'm always active</span>
    </div>
  </div>
</div>

<h2>Orienting chains</h2>

<p>
  A command block chain will be orientated in the direction that follows its position.
  If no direction is specified, the command block chain will be vertical (<span class="char">+y</span>).
</p>

<h3>Example</h3>

<div class="example">
  <div class="example-code">
    <div class="example-title">Code</div>
    <div class="example-content code">
      chain ~2 ~ ~, +x:
        say hello
        say world

      chain ~ ~ ~-2, -z:
        say I love
        say Minecraft
    </div>
    <div class="example-title">Demo</div>
    <div class="example-content">
      <div class="clip"><video src="clips/chain-orientation.webm" loop></video></div>
    </div>
  </div>
</div>

<h2>Commands on multiple lines</h2>

<p>
  If you write very long commands you might want to split them on multiple lines. You can do it by adding spaces at the beginning of lines you want
  to join.
</p>

<div class="example">
  <div class="example-code">
    <div class="example-title">Code</div>
    <div class="example-content code">
      execute @r ~ ~ ~
        setblock minecraft:chest 0 replace
        {Items:[{id:"minecraft:potato",Count:2}]}
    </div>
    <div class="example-title">Output</div>
    <div class="example-content output">
      <span class="command">execute @r ~ ~ ~ setblock minecraft:chest 0 replace {Items:[{id:"minecraft:potato",Count:2}]}</span>
    </div>
  </div>
</div>

<p>
  By default, a space is inserted between joined lines. To avoid this behavior, start your line with a <span class="char">+</span>.
</p>

<div class="example">
  <div class="example-code">
    <div class="example-title">Code</div>
    <div class="example-content code">
      say joined
        +lines
    </div>
    <div class="example-title">Output</div>
    <div class="example-content output">
      <span class="command">say joinedlines</span>
    </div>
  </div>
</div>

<h2>Math operations</h2>

<p>
  Operation placed between <span class="char">(</span> and <span class="char">)</span> will be evaluated. The parentheses will be replaced by the result of this operation. Supported operators are <span class="char">+</span>, <span class="char">-</span>, <span class="char">*</span>, <span class="char">/</span> and <span class="char">%</span>.
</p>

<div class="example">
  <div class="example-code">
    <div class="example-title">Code</div>
    <div class="example-content code">
      say I have (50+35) friends
      say (269/4)
      say ( ( 1337 + 4 ) / ( 1 + 2 ) )
    </div>
    <div class="example-title">Output</div>
    <div class="example-content output">
      <span class="command">say 85</span><br>
      <span class="command">say 67.25</span><br>
      <span class="command">say 447</span>
    </div>
  </div>
</div>

<p>
  It also is possible to perform operations on set of numbers (e. g. coordinates). To group numbers together, wrap them between two <span class="char">|</span>.
</p>

<div class="example">
  <div class="example-code">
    <div class="example-title">Code</div>
    <div class="example-content code">
      summon ( |137 65 -128| + |50 0 50| ) zombie
      summon ( |50 50 50| / 5 ) creeper
    </div>
    <div class="example-title">Output</div>
    <div class="example-content output">
      <span class="command">summon 187 65 -78 zombie</span><br>
      <span class="command">summon 10 10 10 creeper</span>
    </div>
  </div>
</div>

<h2>Variables</h2>

<p>
  Variables allow us to save data and re-use them later. They are declared with the <span class="char cm-header">var</span> keyword. A variable name begins by a <span class="char">$</span>.
</p>

<div class="example">
  <div class="example-code">
    <div class="example-title">Code</div>
    <div class="example-content code">
      var $entity = zombie
      var $coordinates = 50 50 50
      summon $entity $coordinates

      $coordinates = ( $coordinates + |10 10 10| )
      summon $entity $coordinates
    </div>
    <div class="example-title">Output</div>
    <div class="example-content output">
      <span class="command">summon zombie 50 50 50</span><br>
      <span class="command">summon zombie 60 60 60</span>
    </div>
  </div>
</div>

<h2>Procedures</h2>

<p>
  A procedure will let you re-use one or more commands.
  You can define procedures using the <span class="char cm-header">def</span> keyword.
  All procedures name must be preceded by a <span class="char">^</span>.
</p>

<div class="example">
  <div class="example-code">
    <div class="example-title">Code</div>
    <div class="example-content code">
      def ^inline_def( $y ): // a def can receive parameters
        50 $y 70

      def ^multiple_lines( $e ; $block = stone ): // a default value can be set
        i0:execute $e ~ ~ ~ setblock ~ ~ ~ $block
        kill $e

      chain 50 50 50:
        ^multiple_lines( @e[type=Bat] ; tnt ) // separate arguments using a ;
        tp @p ^inline_def( 37 )
    </div>
    <div class="example-title">Output</div>
    <div class="example-content output">
      <b class="b-i"></b><b class="b-0"></b> <span class="command">execute @e[type=Bat] ~ ~ ~ setblock ~ ~ ~ tnt</span><br>
      <b class="b-c"></b><b class="b-1"></b> <span class="command">kill @e[type=Bat]</span><br>
      <b class="b-c"></b><b class="b-1"></b> <span class="command">tp @p 50 37 70</span>
    </div>
  </div>
</div>

<h2>Escaping</h2>

<p>
  You can prevent characters from being interpreted. To do it, insert a <span class="char cm-hr">`</span> before it.
</p>

<div class="example">
  <div class="example-code">
    <div class="example-title">Code</div>
    <div class="example-content code">
      var $var = cool
      say the $var`est
      say `$var
      say http:`//www.youtube.com

      `def ok
    </div>
    <div class="example-title">Output</div>
    <div class="example-content output">
      <span class="command">say the coolest</span><br>
      <span class="command">say $var</span><br>
      <span class="command">say http://www.youtube.com</span><br>
      <span class="command">def ok</span>
    </div>
  </div>
</div>

<h2>Commenting</h2>

<p>
  You can add comments to your file using the <span class="char cm-comment">//</span> syntax. Every characters following this symbol wii be ignored.
</p>

<div class="example">
  <div class="example-code">
    <div class="example-title">Code</div>
    <div class="example-content code">
      say hello // very important command
    </div>
    <div class="example-title">Output</div>
    <div class="example-content output">
      <span class="command">say hello</span>
    </div>
  </div>
</div>

<h2>Including other files</h2>

<p>
  You can import other files into a compiling file using the <span class="char cm-header">include</span> keyword.
</p>

<div class="example">
  <div class="example-code">
    <div class="example-title">Code</div>
    <div class="example-content code">
      // other_file
      say Hey!

      def ^hello($what):
        say Hello, $what!

      // compiled_file
      include other_file
      ^hello(world)
    </div>
    <div class="example-title">Output</div>
    <div class="example-content output">
      <span class="command">Hey!</span><br>
      <span class="command">say Hello, world!</span>
    </div>
  </div>
</div>

</div>

</body>
</html>
